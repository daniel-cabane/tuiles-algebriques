(function(t){function e(e){for(var o,l,s=e[0],a=e[1],c=e[2],p=0,f=[];p<s.length;p++)l=s[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],o=!0,s=1;s<i.length;s++){var a=i[s];0!==r[a]&&(o=!1)}o&&(n.splice(e--,1),t=l(l.s=i[0]))}return t}var o={},r={app:0},n=[];function l(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=o,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(i,o,function(e){return t[e]}.bind(null,o));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/tuiles-algebriques/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=a;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"3df8":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-app-bar",{staticClass:"headline",attrs:{app:"",color:"primary",dark:""}},[t._v(" Tuiles algébriques ")]),i("v-main",[i("mainDeck")],1)],1)},n=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{staticClass:"text-center"},[i("v-col",{attrs:{cols:"12"}},[i("v-card",{staticClass:"pa-3"},[i("v-btn",{staticStyle:{position:"absolute",right:"0px",bottom:"0px"},attrs:{icon:"",color:"black"},on:{click:t.toggleSign}},[i("v-icon",[t._v(t._s(t.pmIcon))])],1),i("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[i("v-btn",t._g(t._b({staticStyle:{position:"absolute",right:"2px",top:"2px","z-index":"5"},attrs:{icon:""}},"v-btn",r,!1),o),[i("v-icon",{attrs:{color:"black"}},[t._v(t._s(t.svgPathDots))])],1)]}}])},[i("v-list",[i("v-list-item",{attrs:{disabled:t.totalTiles>12},on:{click:t.flatten}},[i("v-list-item-avatar",[i("v-icon",{attrs:{color:t.totalTiles>12?"grey lighten-1":"black"}},[t._v(t._s(t.svgPathFlat))])],1),i("v-list-item-content",[t._v("Etaler")])],1),i("v-list-item",{attrs:{disabled:!t.isFlat},on:{click:function(e){t.multDialog=!0}}},[i("v-list-item-avatar",[i("v-icon",{attrs:{color:t.isFlat?"black":"grey lighten-1"}},[t._v(t._s(t.svgPathMult))])],1),i("v-list-item-content",[t._v("Multiplier")])],1),i("v-list-item",{on:{click:function(e){t.deleteDialog=!0}}},[i("v-list-item-avatar",[i("v-icon",[t._v(t._s(t.svgPathDelete))])],1),i("v-list-item-content",[t._v("Tout effacer")])],1)],1)],1),i("v-dialog",{attrs:{width:"400px"},model:{value:t.multDialog,callback:function(e){t.multDialog=e},expression:"multDialog"}},[i("v-card",[i("v-card-title",[t._v("Multiplier par ?")]),i("v-card-actions",{staticStyle:{display:"block"}},[i("v-form",{ref:"multForm",attrs:{"lazy-validation":""},model:{value:t.multFormValid,callback:function(e){t.multFormValid=e},expression:"multFormValid"}},[i("div",[i("v-text-field",{attrs:{autofocus:"",label:"Multiplicateur",type:"Number",min:"1",max:"10",step:"1",outlined:"",rules:t.multRules},model:{value:t.multFactor,callback:function(e){t.multFactor=e},expression:"multFactor"}})],1)]),i("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[i("v-btn",{attrs:{width:"150px",color:"error"},on:{click:function(e){t.multDialog=!1}}},[t._v("Annuler")]),i("v-btn",{attrs:{width:"150px",color:"primary"},on:{click:t.multiply}},[t._v("Multiplier")])],1)],1)],1)],1),i("v-dialog",{attrs:{width:"400px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[i("v-card",[i("v-card-title",[t._v("Effacer toutes les tuiles ?")]),i("v-card-actions",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",{attrs:{width:"150px",color:"primary"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Annuler")]),i("v-btn",{attrs:{width:"150px",color:"error"},on:{click:t.clearAll}},[t._v("Effacer tout")])],1)],1)],1),i("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},t._l(t.tileButtons,(function(e){return i("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.type,staticClass:"text-h3",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},style:"color: "+e.fontColor,attrs:{tile:"",hover:"",width:"x"==e.h?110:70,height:"x"==e.v?110:70,color:e.color},on:{click:function(i){return t.addTile(e.type)}}},[i("span",{staticStyle:{"font-family":'"Times new roman"',display:"flex","align-items":"center"}},[i("span",{style:{"margin-bottom":e.botAdjust+"px"}},[t.inputPositive?t._e():i("span",{staticStyle:{"vertical-align":"text-top","margin-left":"5px"}},[t._v("–")]),i("span",{staticClass:"mr-3 ml-1",style:{"font-style":e.italic?"italic":""}},[t._v(t._s(e.text))]),e.exp?i("sup",{staticStyle:{"margin-left":"-10px","font-size":"60%"}},[t._v("2")]):t._e()])])])})),1)],1)],1),i("v-col",{staticStyle:{display:"flex"},attrs:{cols:"12"}},t._l(t.tileGroups,(function(e,o){return i("span",{key:"group-"+o,staticStyle:{display:"flex"}},[i("span",[i("draggable",{attrs:{group:"tiles",list:e},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1},change:t.checkGroups}},t._l(e,(function(t){return i("singleTile",{key:t.id,attrs:{h:t.h,v:t.v,positive:t.positive,borderColor:t.pair,id:t.id}})})),1),t.simplifiableGroups[o]?i("v-btn",{attrs:{icon:"",large:"",color:"black"},on:{click:function(e){return t.simplifyGroup(o)}}},[i("v-icon",{attrs:{large:""}},[t._v(t._s(t.upIcon))])],1):t._e()],1),t.margins[o]?i("span",{staticStyle:{width:"10px"}}):t._e()])})),0)],1)],1)},s=[],a=(i("4de4"),i("4160"),i("45fc"),i("07ac"),i("159b"),i("5530")),c=i("b76a"),u=i.n(c),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return[i("v-card",{staticStyle:{display:"flex","align-content":"center","justify-content":"center","font-family":'"Times new roman"'},style:{color:t.tileSpecs.fontColor,border:t.borderColor?t.borderColor+" solid 3px":"unset","z-index":t.borderColor?10:1},attrs:{tile:"",flat:"",width:t.tileWidth,height:t.tileHeight,color:t.tileSpecs.color}},[i("span",{staticClass:"text-h3",staticStyle:{display:"flex","align-items":"center"}},[i("span",{staticStyle:{"font-family":'"Times new roman"'},style:{"margin-bottom":t.tileSpecs.botAdjust+"px"}},[t.positive?t._e():i("span",{staticStyle:{"vertical-align":"text-top","margin-left":"5px"}},[t._v("–")]),i("span",{staticClass:"mr-3 ml-1",style:{"font-style":t.tileSpecs.italic?"italic":"normal"}},[t._v(t._s(t.tileSpecs.text))]),t.tileSpecs.exp?i("sup",{staticStyle:{"margin-left":"-10px","font-size":"60%"}},[t._v("2")]):t._e()])]),o?i("v-btn",{staticStyle:{position:"absolute",left:"-5px",top:"-5px"},attrs:{icon:""},on:{click:t.deleteMe}},[i("v-icon",{attrs:{color:t.tileSpecs.fontColor,small:""}},[t._v(t._s(t.deleteIcon))])],1):t._e(),o?i("v-btn",{staticStyle:{position:"absolute",left:"-5px",bottom:"-5px"},attrs:{icon:""},on:{click:t.toggleSign}},[i("v-icon",{attrs:{color:t.tileSpecs.fontColor,small:""}},[t._v(t._s(t.pmIcon))])],1):t._e(),o&&"x"==t.v&&"1"==t.h?i("v-btn",{staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{icon:""},on:{click:t.rotateMe}},[i("v-icon",{attrs:{color:t.tileSpecs.fontColor,small:""}},[t._v(t._s(t.rotateLandscape))])],1):t._e(),o&&"1"==t.v&&"x"==t.h?i("v-btn",{staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{icon:""},on:{click:t.rotateMe}},[i("v-icon",{attrs:{color:t.tileSpecs.fontColor,small:""}},[t._v(t._s(t.rotatePortrait))])],1):t._e()],1)]}}])})},f=[],v=(i("a9e3"),i("94ed")),h={positiveOne:{text:"1",positive:!0,exp:null,color:"#aaaaaa",fontColor:"black",italic:!1,botAdjust:0},negativeOne:{text:"1",positive:!1,exp:null,color:"#555555",fontColor:"white",italic:!1,botAdjust:0},positiveX:{text:"x",positive:!0,exp:null,color:"#0282f9",fontColor:"black",italic:!0,botAdjust:10},negativeX:{text:"x",positive:!1,exp:null,color:"#00284f",fontColor:"white",italic:!0,botAdjust:10},positiveX2:{text:"x",positive:!0,exp:"2",color:"#e20022",fontColor:"black",italic:!0,botAdjust:10},negativeX2:{text:"x",positive:!1,exp:"2",color:"#59000e",fontColor:"white",italic:!0,botAdjust:10}},d=h,m={props:{h:String,v:String,positive:Boolean,borderColor:String,id:Number},data:function(){return{deleteIcon:v["d"],pmIcon:v["h"],rotateLandscape:v["f"],rotatePortrait:v["g"]}},computed:{tileSpecs:function(){return this.h!=this.v?this.positive?d.positiveX:d.negativeX:"x"==this.h?this.positive?d.positiveX2:d.negativeX2:this.positive?d.positiveOne:d.negativeOne},tileWidth:function(){return"x"==this.h?130:80},tileHeight:function(){return"x"==this.v?130:80}},methods:{deleteMe:function(){this.eventBus.$emit("deleteTile",this.id)},rotateMe:function(){this.eventBus.$emit("rotateTile",this.id)},toggleSign:function(){this.eventBus.$emit("toggleSign",this.id)}}},g=m,b=i("2877"),x=i("6544"),y=i.n(x),_=i("8336"),G=i("b0af"),S=i("ce87"),k=i("132d"),C=Object(b["a"])(g,p,f,!1,null,null,null),w=C.exports;y()(C,{VBtn:_["a"],VCard:G["a"],VHover:S["a"],VIcon:k["a"]});var E={components:{draggable:u.a,singleTile:w},name:"mainDeck",data:function(){return{svgPathDelete:v["d"],svgPathDots:v["e"],svgPathMult:v["c"],svgPathFlat:v["a"],pmIcon:v["h"],upIcon:v["b"],inputPositive:!0,deleteDialog:!1,multDialog:!1,multFactor:1,tileGroups:[[],[]],margins:[!0],multFormValid:!0,multRules:[function(t){return!!t||"Saisir une valeur"},function(t){return t&&t>=1&&t<=10&&Math.floor(t)==t||"Valeur entière entre 1 et 10."}],pairSets:[{color:"#FF0000",used:!1},{color:"#3f00ff",used:!1},{color:"#66ff00",used:!1},{color:"#39ff14",used:!1},{color:"#fe6700",used:!1},{color:"#ffc82a",used:!1},{color:"#fea051",used:!1},{color:"#ff3503",used:!1},{color:"#f08300",used:!1},{color:"#ff9889",used:!1},{color:"#fe01b1",used:!1},{color:"#ff85ff",used:!1},{color:"#d90166",used:!1},{color:"#ff6ffc",used:!1},{color:"#ff1b2d",used:!1},{color:"#b21807",used:!1}]}},computed:{tileButtons:function(){var t=this,e=[];return["xx","x1","1x","11"].forEach((function(i){var o=i.charAt(0),r=i.charAt(1);if(o!=r){var n=t.inputPositive?d.positiveX:d.negativeX;e.push(Object(a["a"])({type:i,h:o,v:r},n))}else if("x"==o){var l=t.inputPositive?d.positiveX2:d.negativeX2;e.push(Object(a["a"])({type:i,h:o,v:r},l))}else{var s=t.inputPositive?d.positiveOne:d.negativeOne;e.push(Object(a["a"])({type:i,h:o,v:r},s))}})),e},totalTiles:function(){var t=0;return this.tileGroups.forEach((function(e){return t+=e.length})),t},isFlat:function(){var t=!0;return this.tileGroups.forEach((function(e){e.length>1&&(t=!1)})),t},simplifiableGroups:function(){var t=[];return this.tileGroups.forEach((function(e){t.push(e.some((function(t){return null!=t.pair})))})),t}},mounted:function(){var t=this;this.eventBus.$on("deleteTile",(function(e){var i=t.tileGroups;t.tileGroups=[],i.forEach((function(i){var o=[];i.forEach((function(t){t.id!=e&&o.push(t)})),t.tileGroups.push(o)})),t.checkGroups()})),this.eventBus.$on("rotateTile",(function(e){var i=t.tileGroups;t.tileGroups=[],i.forEach((function(i){var o=[];i.forEach((function(t){t.id==e?o.push({h:t.v,v:t.h,positive:t.positive,pair:t.pair,id:t.id}):o.push(t)})),t.tileGroups.push(o)})),t.checkGroups()})),this.eventBus.$on("toggleSign",(function(e){var i=t.tileGroups;t.tileGroups=[],i.forEach((function(i){var o=[];i.forEach((function(t){t.id==e?o.push({v:t.v,h:t.h,positive:!t.positive,pair:t.pair,id:t.id}):o.push(t)})),t.tileGroups.push(o)})),t.checkGroups()}))},methods:{simplifyGroup:function(t){var e=this,i=this.tileGroups[t];this.tileGroups[t]=[],i.forEach((function(i){i.pair?e.pairSets.filter((function(t){return t.color==i.pair}))[0].used=!1:e.tileGroups[t].push(i)})),this.checkGroups()},toggleSign:function(){this.inputPositive=!this.inputPositive},checkGroups:function(){var t=this,e=this.tileGroups;this.tileGroups=[],e.forEach((function(e){e.length>0&&t.tileGroups.push(e)})),this.tileGroups.push([]),this.margins=[];for(var i=0;i<this.tileGroups.length;i++)this.margins.push(!this.compareGroups(i));this.tileGroups.forEach((function(e){var i={};e.forEach((function(t){t.pair&&(i[t.pair]?i[t.pair].push(t):i[t.pair]=[t])})),Object.values(i).forEach((function(t){1==t.length?t[0].pair=null:t[0].positive==t[1].positive&&(t[0].pair=null,t[1].pair=null)})),e.forEach((function(i){e.forEach((function(e){if((i.v==e.v&&i.h==e.h||i.v==e.h&&i.h==e.v)&&i.positive==!e.positive&&null==i.pair&&null==e.pair){var o=null;while(null==o){var r=t.pairSets[Math.floor(Math.random()*t.pairSets.length)];r.used||(o=r.color,r.used=!0)}i.pair=o,e.pair=o}}))}))}))},compareGroups:function(t){var e=this.tileGroups[t],i=this.tileGroups[t+1];if(void 0==e||void 0==i)return!1;if(!this.isConsistent(e)||!this.isConsistent(i))return!1;if(e.length!=i.length)return!1;for(var o=0;o<e.length;o++)if(e[o].v!=i[o].v)return!1;return!0},isConsistent:function(t){if(0==t.length)return!1;var e=t[0].h,i=t[0].positive,o=!0;return t.forEach((function(t){t.h==e&&t.positive==i||(o=!1)})),o},addTile:function(t){var e=1;this.tileGroups.forEach((function(t){t.forEach((function(t){e=Math.max(e,t.id+1)}))}));var i=t.charAt(0),o=t.charAt(1),r=this.tileGroups.length-1;while(0==this.tileGroups[r].length&&r>0)r--;void 0==this.tileGroups[r][0]||this.tileGroups[r][0].h==i&&this.tileGroups[r][0].v==o?this.tileGroups[r].push({v:o,h:i,positive:this.inputPositive,pair:null,id:e}):this.tileGroups.push([{v:o,h:i,positive:this.inputPositive,pair:null,id:e}]),this.checkGroups()},flatten:function(){var t=this,e=[];this.tileGroups.forEach((function(t){t.forEach((function(t){return e.push(t)}))})),this.tileGroups=[],e.forEach((function(e){return t.tileGroups.push([e])})),this.checkGroups()},multiply:function(){var t=this;if(this.$refs.multForm.validate()){var e=1,i=[];this.tileGroups.forEach((function(t){t.forEach((function(t){return i.push(t)}))})),this.tileGroups=[],i.forEach((function(i){for(var o=[],r=0;r<t.multFactor;r++)o.push({v:i.v,h:i.h,id:e}),e++;t.tileGroups.push(o)})),this.checkGroups(),this.$refs.multForm.reset(),this.multDialog=!1}},clearAll:function(){this.tileGroups=[[],[]],this.deleteDialog=!1}}},j=E,V=(i("e917"),i("99d9")),P=i("62ad"),O=i("a523"),D=i("169a"),A=i("4bd4"),F=i("8860"),M=i("da13"),T=i("8270"),B=i("5d23"),I=i("e449"),X=i("0fd9"),$=i("8654"),L=i("269a"),z=i.n(L),R=i("5607"),H=Object(b["a"])(j,l,s,!1,null,null,null),N=H.exports;y()(H,{VBtn:_["a"],VCard:G["a"],VCardActions:V["a"],VCardTitle:V["b"],VCol:P["a"],VContainer:O["a"],VDialog:D["a"],VForm:A["a"],VIcon:k["a"],VList:F["a"],VListItem:M["a"],VListItemAvatar:T["a"],VListItemContent:B["a"],VMenu:I["a"],VRow:X["a"],VTextField:$["a"]}),z()(H,{Ripple:R["a"]});var q={name:"App",components:{mainDeck:N},data:function(){return{}}},J=q,W=i("7496"),K=i("40dc"),Q=i("f6c4"),U=Object(b["a"])(J,r,n,!1,null,null,null),Y=U.exports;y()(U,{VApp:W["a"],VAppBar:K["a"],VMain:Q["a"]});var Z=i("f309");o["a"].use(Z["a"]);var tt=new Z["a"]({icons:{iconfont:"mdiSvg"}});o["a"].config.productionTip=!1;var et=new o["a"];o["a"].mixin({data:function(){return{eventBus:et}}}),new o["a"]({vuetify:tt,render:function(t){return t(Y)}}).$mount("#app")},e917:function(t,e,i){"use strict";i("3df8")}});
//# sourceMappingURL=app.c65b8a9d.js.map